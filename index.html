function drawPulleySystem(width, height, planeWidth, planeHeight, objectX, objectY) {
    const pulleyX = 50 + planeWidth + 80;
    const pulleyY = height - 50 - planeHeight - 30;
    const pulleyRadius = 25;

    // Dibujar polea
    ctx.beginPath();
    ctx.arc(pulleyX, pulleyY, pulleyRadius, 0, Math.PI * 2);
    ctx.strokeStyle = '#8e44ad';
    ctx.lineWidth = 3;
    ctx.stroke();

    // Soporte de la polea
    ctx.beginPath();
    ctx.moveTo(pulleyX - 40, pulleyY);
    ctx.lineTo(pulleyX + 40, pulleyY);
    ctx.strokeStyle = '#7f8c8d';
    ctx.lineWidth = 4;
    ctx.stroke();

    // Cuerda desde el objeto hasta la polea
    ctx.beginPath();
    ctx.moveTo(objectX, objectY);
    ctx.lineTo(pulleyX, pulleyY);
    ctx.strokeStyle = '#d35400';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Dibujar contrapeso en posición coherente (sube cuando objeto baja)
    const counterWeightSize = 20 + pulleyConfig.counterMass / 3;

    // La posición del contrapeso debe reflejar el movimiento inverso
    const maxRopeLength = planeHeight + 100; // ajustar según canvas
    const counterWeightY = pulleyY - (position / length) * maxRopeLength;

    ctx.beginPath();
    ctx.arc(pulleyX, counterWeightY, counterWeightSize, 0, Math.PI * 2);
    ctx.fillStyle = '#3498db';
    ctx.fill();
    ctx.strokeStyle = '#2980b9';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Etiqueta del contrapeso
    ctx.fillStyle = '#fff';
    ctx.font = '14px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(`${pulleyConfig.counterMass} kg`, pulleyX, counterWeightY + counterWeightSize + 15);

    // Cuerda del contrapeso
    ctx.beginPath();
    ctx.moveTo(pulleyX, pulleyY + pulleyRadius);
    ctx.lineTo(pulleyX, counterWeightY - counterWeightSize);
    ctx.strokeStyle = '#d35400';
    ctx.lineWidth = 2;
    ctx.stroke();
}
